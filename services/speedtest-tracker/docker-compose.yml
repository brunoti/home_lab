services:
  speedtest-tracker:
    image: ghcr.io/alexjustesen/speedtest-tracker:latest
    container_name: speedtest-tracker
    restart: unless-stopped
    environment:
      - PUID=${JELLYFIN_UID:-1000}
      - PGID=${JELLYFIN_GID:-1000}
      - DB_CONNECTION=pgsql
      - DB_HOST=postgres
      - DB_PORT=5432
      - DB_DATABASE=speedtest
      - DB_USERNAME=postgres
      - DB_PASSWORD=${POSTGRES_PASSWORD}
      - APP_KEY=${SPEEDTEST_TRACKER_APP_KEY}
    ports:
      - "5000:80"
    # External service dependency (defined in services/postgres/docker-compose.yml)
    depends_on:
      - postgres
    networks:
      - homelab
  
  
networks:
  homelab:
    external: true
    name: homelab
